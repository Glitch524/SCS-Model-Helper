<local:BaseWindow
	x:Class="Def_Writer.ModelSiiWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:local="clr-namespace:Def_Writer"
	xmlns:class="clr-namespace:Def_Writer.Class"
	d:DataContext="{d:DesignInstance Type=local:ModelInfo}"
	mc:Ignorable="d"
	Title="{DynamicResource TitleMain}"
	Width="1000"
	SizeToContent="Height">
	<local:BaseWindow.Resources>
		<ContextMenu
			x:Key="MenuStringRes" />
		<ContextMenu
			x:Key="MenuModelType" />
		<ContextMenu
			x:Key="MenuLook" />
		<ContextMenu
			x:Key="MenuVariant" />
		<local:OptionWarningConverter
			x:Key="optionWarning" />
	</local:BaseWindow.Resources>
	<Grid
		Margin="10,10,10,10">

		<Grid.ColumnDefinitions>
			<ColumnDefinition
				Width="4*" />
			<ColumnDefinition
				Width="*" />
		</Grid.ColumnDefinitions>
		<StackPanel>
			<Grid
				Grid.Row="0"
				Grid.Column="0">
				<Grid.RowDefinitions>
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="15" />
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="15" />
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="Auto" />
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition
						Width="*" />
					<ColumnDefinition
						Width="5" />
					<ColumnDefinition
						Width="*" />
				</Grid.ColumnDefinitions>

				<Grid
					Grid.Row="0"
					Grid.Column="0"
					Grid.ColumnSpan="3">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="Auto" />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<TextBlock
						x:Name="TitleProjectLocation"
						Grid.Column="0"
						Grid.Row="0"
						Grid.ColumnSpan="2"
						TextWrapping="Wrap"
						VerticalAlignment="Center"
						Text="{DynamicResource SCSProjectLocation}" />
					<TextBox
						x:Name="TextProjectLocation"
						Grid.Row="1"
						Grid.Column="0"
						Padding="3,3,3,3"
						IsReadOnly="True"
						TextWrapping="Wrap"
						VerticalAlignment="Top"
						Text="{Binding ProjectLocation}">
						<TextBox.Style>
							<Style
								TargetType="TextBox">
								<Style.Triggers>
									<DataTrigger
										Binding="{Binding ProjectExist}"
										Value="false">
										<Setter
											Property="Foreground"
											Value="Red" />
										<Setter
											Property="ToolTip"
											Value="{DynamicResource SCSProjectLocationTipNotExist}" />
									</DataTrigger>
									<Trigger
										Property="Text"
										Value="">
										<Setter
											Property="Background"
											Value="Yellow" />
									</Trigger>
								</Style.Triggers>
							</Style>
						</TextBox.Style>
						
					</TextBox>
					<Button
						x:Name="ButtonChooseProject"
						Grid.Row="1"
						Grid.Column="1"
						Padding="3,3,3,3"
						Content="{DynamicResource ButtonBrowse}"
						HorizontalAlignment="Left"
						Click="ChooseProjectLocation" />
				</Grid>

				<Grid
					Grid.Row="1"
					Grid.Column="0"
					Margin="0,5,0,0">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<TextBlock
						Grid.Row="0"
						Grid.Column="0"
						TextWrapping="Wrap"
						VerticalAlignment="Top"
						Text="{DynamicResource ModelDisplayName}" />
					<Grid
						Grid.Row="1"
						Grid.Column="0">
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="Auto" />
						</Grid.ColumnDefinitions>
						<TextBox
							x:Name="TextDisplayName"
							Padding="3,3,3,3"
							Text="{Binding DisplayName}"
							TextWrapping="Wrap"
							VerticalAlignment="Top">
							<TextBox.Style>
								<Style
									TargetType="TextBox">
									<Style.Triggers>
										<Trigger
											Property="Text"
											Value="">
											<Setter
												Property="Background"
												Value="Yellow" />
										</Trigger>
									</Style.Triggers>
								</Style>
							</TextBox.Style>
						</TextBox>
						<Button
							x:Name="ButtonChooseRes"
							Grid.Row="1"
							Grid.Column="1"
							Padding="3,3,3,3"
							Content="{DynamicResource ButtonLocale}"
							HorizontalAlignment="Left"
							Click="ChooseStringRes" />
					</Grid>
				</Grid>

				<Grid
					Grid.Row="2"
					Grid.Column="0"
					Margin="0,5,0,0">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<TextBlock
						Grid.Row="0"
						Grid.Column="0"
						TextWrapping="Wrap"
						VerticalAlignment="Top"
						Text="{DynamicResource ModelPrice}" />
					<TextBox
						x:Name="TextPrice"
						Grid.Row="1"
						Grid.Column="0"
						Padding="3,3,3,3"
						Text="{Binding Price}"
						PreviewTextInput="NumberOnly"
						TextWrapping="Wrap"
						VerticalAlignment="Top">
						<TextBox.Style>
							<Style
								TargetType="TextBox">
								<Style.Triggers>
									<Trigger
										Property="Text"
										Value="">
										<Setter
											Property="Background"
											Value="Yellow" />
									</Trigger>
									<Trigger
										Property="Text"
										Value="0">
										<Setter
											Property="Background"
											Value="Red" />
										<Setter
											Property="ToolTip"
											Value="{DynamicResource ModelPriceErrNot0}" />
									</Trigger>
								</Style.Triggers>
							</Style>
						</TextBox.Style>
					</TextBox>
				</Grid>

				<Grid
					Grid.Row="2"
					Grid.Column="2"
					Margin="0,5,0,0">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<TextBlock
						Grid.Row="0"
						TextWrapping="Wrap"
						VerticalAlignment="Top">
						<Run
							Language="zh-cn"
							Text="{DynamicResource ModelUnlockLevel}" />
					</TextBlock>
					<TextBox
						x:Name="TextUnlockLevel"
						Grid.Row="1"
						Padding="3,3,3,3"
						Text="{Binding UnlockLevel}"
						PreviewTextInput="NumberOnly"
						TextWrapping="Wrap"
						VerticalAlignment="Top">
						<TextBox.Style>
							<Style
								TargetType="TextBox">
								<Style.Triggers>
									<Trigger
										Property="Text"
										Value="">
										<Setter
											Property="Background"
											Value="Yellow" />
									</Trigger>
								</Style.Triggers>
							</Style>
						</TextBox.Style>
					</TextBox>
				</Grid>

				<GridSplitter
					Grid.Row="3"
					Grid.ColumnSpan="3"
					Height="1"
					Margin="0,7,0,7"
					ResizeBehavior="PreviousAndCurrent"
					VerticalAlignment="Center"
					Background="#FF4C4B4B"
					HorizontalAlignment="Stretch" />

				<Grid
					Grid.Row="4"
					Grid.Column="0"
					Grid.ColumnSpan="3"
					Margin="0,5,0,0">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="Auto" />
						<ColumnDefinition
							Width="Auto" />
					</Grid.ColumnDefinitions>

					<TextBlock
						Grid.Row="0"
						Grid.Column="0"
						Grid.ColumnSpan="3"
						TextWrapping="Wrap"
						VerticalAlignment="Top">
						<Run
							Text="{DynamicResource ModelFilePath}" /></TextBlock>
					<TextBox
						x:Name="TextModelPath"
						Grid.Row="1"
						Grid.Column="0"
						Padding="3,3,3,3"
						Text="{Binding ModelPath}"
						TextWrapping="Wrap"
						TextChanged="ClearButtonVisibility"
						BorderThickness="1,1,0,1"
						VerticalAlignment="Center">
						<TextBox.Style>
							<Style
								TargetType="TextBox">
								<Style.Triggers>
									<Trigger
										Property="Text"
										Value="">
										<Setter
											Property="Background"
											Value="Yellow" />
									</Trigger>
								</Style.Triggers>
							</Style>
						</TextBox.Style>
					</TextBox>
					<Button
						x:Name="ButtonChooseModelClear"
						Grid.Row="1"
						Grid.Column="1"
						Content=" × "
						Click="ButtonClearClick"
						Visibility="Collapsed"
						d:Visibility="Visible"
						BorderThickness="0,1,1,1"
						Background="Transparent" />

					<Button
						x:Name="ButtonChooseModel"
						Grid.Row="1"
						Grid.Column="2"
						Padding="3,3,3,3"
						Content="{DynamicResource ButtonBrowse}"
						Click="ButtonChooseModelClick" />
				</Grid>

				<Grid
					Grid.Row="5"
					Grid.Column="0"
					Grid.ColumnSpan="3"
					Margin="0,5,0,0">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="Auto" />
						<ColumnDefinition
							Width="Auto" />
					</Grid.ColumnDefinitions>
					<TextBlock
						x:Name="TitleModelPathUK"
						Grid.Row="0"
						Grid.Column="0"
						Grid.ColumnSpan="3"
						TextWrapping="Wrap"
						VerticalAlignment="Top"
						Text="{DynamicResource ModelFilePathUK}" />
					<TextBox
						x:Name="TextModelPathUK"
						Grid.Row="1"
						Grid.Column="0"
						Padding="3,3,3,3"
						Text="{Binding ModelPathUK}"
						TextWrapping="Wrap"
						TextChanged="ClearButtonVisibility"
						BorderThickness="1,1,0,1"
						VerticalAlignment="Center" />
					<Button
						x:Name="ButtonChooseModelUKClear"
						Grid.Row="1"
						Grid.Column="1"
						Content=" × "
						Click="ButtonClearClick"
						Visibility="Collapsed"
						d:Visibility="Visible"
						BorderThickness="0,1,1,1"
						Background="Transparent" />
					<Button
						x:Name="ButtonChooseModelUK"
						Grid.Row="1"
						Grid.Column="2"
						Padding="3,3,3,3"
						Content="{DynamicResource ButtonBrowse}"
						Click="ButtonChooseModelClick" />
				</Grid >

				<GridSplitter
					Grid.Row="6"
					Grid.ColumnSpan="3"
					Height="1"
					Background="#FF4C4B4B"
					HorizontalAlignment="Stretch"
					VerticalAlignment="Center" />

				<Grid
					Grid.Row="7"
					Grid.Column="0">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<TextBlock
						Grid.Row="0"
						TextWrapping="Wrap">
						<Run
							Text="{DynamicResource ModelName}" />
						<Run
							Text="{DynamicResource ModelNameTip}" />
					</TextBlock>
					<TextBox
						x:Name="TextModelName"
						Grid.Row="1"
						Padding="3,3,3,3"
						TextWrapping="Wrap"
						Text="{Binding ModelName}"
						VerticalAlignment="Top">
						<TextBox.Style>
							<Style
								TargetType="TextBox">
								<Style.Triggers>
									<Trigger
										Property="Text"
										Value="">
										<Setter
											Property="Background"
											Value="Yellow" />
									</Trigger>
								</Style.Triggers>
							</Style>
						</TextBox.Style>
					</TextBox>
				</Grid>

				<Grid
					Grid.Row="7"
					Grid.Column="2">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="Auto" />
						<ColumnDefinition
							Width="Auto" />
					</Grid.ColumnDefinitions>

					<TextBlock
						Grid.Row="0"
						Grid.Column="0"
						Grid.ColumnSpan="3"
						TextWrapping="Wrap"
						VerticalAlignment="Top"
						Text="{DynamicResource ModelIcon}" />
					<TextBox
						x:Name="TextIconName"
						Grid.Row="1"
						Grid.Column="0"
						Padding="3,3,3,3"
						Text="{Binding IconName}"
						TextWrapping="Wrap"
						VerticalAlignment="Top"
						TextChanged="ClearButtonVisibility"
						BorderThickness="1,1,0,1">
						<TextBox.Style>
							<Style
								TargetType="TextBox">
								<Style.Triggers>
									<Trigger
										Property="Text"
										Value="">
										<Setter
											Property="Background"
											Value="Yellow" />
									</Trigger>
								</Style.Triggers>
							</Style>
						</TextBox.Style>
					</TextBox>
					<Button
						x:Name="ButtonIconNameClear"
						Grid.Row="1"
						Grid.Column="1"
						Content=" × "
						Click="ButtonClearClick"
						Visibility="Collapsed"
						d:Visibility="Visible"
						BorderThickness="0,1,1,1"
						Background="Transparent" />
					<Button
						x:Name="ButtonIconName"
						Grid.Row="1"
						Grid.Column="2"
						Padding="3,3,3,3"
						Content="{DynamicResource ButtonBrowse}"
						Click="ButtonChooseIcon" />
				</Grid>

				<Grid
					Grid.Row="8"
					Grid.Column="0"
					Margin="0,5,0,0">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="1*" />
						<ColumnDefinition
							Width="Auto" />
						<ColumnDefinition
							Width="2*" />
					</Grid.ColumnDefinitions>
					<TextBlock
						Grid.Row="0"
						Grid.Column="0"
						Grid.ColumnSpan="3"
						TextWrapping="Wrap"
						VerticalAlignment="Top">
						<Run
							Text="{DynamicResource ModelType}" />
						<Run
							Text="{DynamicResource ModelTypeTip}" />
					</TextBlock>
					<ComboBox
						x:Name="TextModelType"
						Padding="3,3,3,3"
						Grid.Row="1"
						Text="{Binding ModelType}"
						DisplayMemberPath="Accessory"
						IsEditable="True"
						IsTextSearchEnabled="True"
						SelectionChanged="ModelTypeChanged"
						TextBoxBase.TextChanged="ModelTypeChanged" />
					<Button
						x:Name="ButtonCoverModelType"
						Grid.Row="1"
						Grid.Column="1"
						Padding="3,3,3,3"
						Content="{DynamicResource ButtonCover}"
						Click="ButtonCoverValue" />
					<TextBox
						d:DataContext="{d:DesignInstance Type=class:AccessoryInfo}"
						x:Name="TextAccName"
						Grid.Row="1"
						Text="{Binding Name}"
						Grid.Column="2"
						Padding="3,3,3,3"
						TextWrapping="Wrap"
						IsReadOnly="True"
						BorderThickness="0,1,1,1"
						VerticalContentAlignment="Center"
						ToolTip="{Binding Name}"/>
				</Grid>

				<Grid
					Grid.Row="8"
					Grid.Column="2"
					Margin="0,5,0,0">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="Auto" />
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="Auto" />
					</Grid.ColumnDefinitions>
					<TextBlock
						Grid.Row="0"
						Grid.ColumnSpan="2"
						TextWrapping="Wrap"
						VerticalAlignment="Top"
						Text="{DynamicResource ModelLook}" />
					<ComboBox
						x:Name="TextLook"
						Grid.Row="1"
						Text="{Binding Look}"
						IsEditable="True"
						IsTextSearchEnabled="True" />
					<Button
						x:Name="ButtonCoverLook"
						Grid.Row="1"
						Grid.Column="1"
						Padding="3,3,3,3"
						Content="{DynamicResource ButtonCover}"
						Click="ButtonCoverValue" />
					<TextBlock
						Grid.Row="0"
						Grid.Column="2"
						Grid.ColumnSpan="2"
						TextWrapping="Wrap"
						VerticalAlignment="Top"
						Text="{DynamicResource ModelVariant}" />
					<ComboBox
						x:Name="TextVariant"
						Grid.Row="1"
						Grid.Column="2"
						Text="{Binding Variant}"
						IsEditable="True"
						IsTextSearchEnabled="True" />
					<Button
						x:Name="ButtonCoverVariant"
						Grid.Row="1"
						Grid.Column="3"
						Padding="3,3,3,3"
						Content="{DynamicResource ButtonCover}"
						Click="ButtonCoverValue" />
				</Grid>
			</Grid>

			<GridSplitter
				Grid.Row="1"
				Height="1"
				Margin="0,7,0,7"
				ResizeBehavior="PreviousAndCurrent"
				VerticalAlignment="Center"
				Background="#FF4C4B4B"
				HorizontalAlignment="Stretch" />

			<Grid
				Grid.Row="2"
				Grid.Column="0">
				<Grid.ColumnDefinitions>
					<ColumnDefinition
						Width="*" />
					<ColumnDefinition
						Width="Auto" />
				</Grid.ColumnDefinitions>
				<TextBlock>
					<Run
						Text="{DynamicResource ModelTruckTip1}" />
					<LineBreak />
					<Run
						Text="{DynamicResource ModelTruckTip2}" />
					<LineBreak />
					<Run
						Text="{DynamicResource ModelTruckTip3}" />
				</TextBlock>

				<Button
					x:Name="ButtonInitialize"
					Grid.Column="1"
					Content="{DynamicResource ButtonInitializeTrucks}"
					Padding="20,5,20,5"
					FontSize="14"
					Click="ButtonTruckInitialize"
					VerticalAlignment="Bottom" />
			</Grid>

			<Expander
				x:Name="ExpanderETS2"
				Header="{DynamicResource ExpanderETS2}"
				Margin="0,5,0,0"
				VerticalAlignment="Top"
				IsExpanded="True"
				Padding="0,2,0,0"
				BorderBrush="Gray"
				BorderThickness="1,1,1,1">
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="Auto" />
						<ColumnDefinition
							Width="Auto" />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<CheckBox
						x:Name="SelectAllETS2"
						Grid.Row="0"
						Grid.Column="0"
						Content="{DynamicResource CheckBoxSelectAll}"
						Checked="SelectAllChecked"
						Unchecked="SelectAllChecked"
						VerticalContentAlignment="Bottom"
						VerticalAlignment="Bottom" />
					<Button
						x:Name="ButtonAddTruckETS2"
						Content="{DynamicResource TitleAddTruck}"
						Grid.Row="0"
						Grid.Column="1"
						Padding="5,3,5,3"
						Click="ButtonAddTruckClick"
						VerticalAlignment="Bottom" />
					<Button
						x:Name="ButtonDeleteTruckETS2"
						Content="{DynamicResource ButtonDeleteTruck}"
						Grid.Row="0"
						Grid.Column="2"
						Margin="5,0,0,0"
						Padding="5,3,5,3"
						Click="ButtonDeleteTruckClick"
						VerticalAlignment="Bottom">
						<Button.Style>
							<Style TargetType="Button">
								<Style.Triggers>
									<DataTrigger
										Binding="{Binding SelectedIndex, ElementName=TableTrucksETS2}" 
										Value="-1">
										<Setter
											Property="IsEnabled"
											Value="False" />
									</DataTrigger>
								</Style.Triggers>
							</Style>
						</Button.Style>
					</Button>
					<DataGrid
						x:Name="TableTrucksETS2"
						RowHeaderWidth="0"
						BorderThickness="0,1,0,0"
						Grid.Row="1"
						Grid.Column="0"
						Grid.ColumnSpan="3"
						GridLinesVisibility="Horizontal"
						Height="200"
						CanUserSortColumns="False"
						d:ItemsSource="{d:SampleData ItemCount=2}"
						AutoGenerateColumns="False">
						<DataGrid.HorizontalGridLinesBrush>
							<LinearGradientBrush
								EndPoint="0.5,1"
								StartPoint="0.5,0">
								<GradientStop
									Color="{DynamicResource {x:Static SystemColors.ActiveBorderColorKey}}"
									Offset="1" />
							</LinearGradientBrush>
						</DataGrid.HorizontalGridLinesBrush>
						<DataGrid.Columns>
							<DataGridTemplateColumn
								Width="Auto">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<CheckBox
											HorizontalAlignment="Center"
											Click="TruckCheckBoxClick"
											IsChecked="{Binding Check, UpdateSourceTrigger=PropertyChanged}" />
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTextColumn
								Header="{DynamicResource TruckID}"
								Width="6*"
								Binding="{Binding TruckID}">
								<DataGridTextColumn.CellStyle>
									<Style
										TargetType="DataGridCell">
										<Setter
											Property="ToolTip"
											Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Content.Text}" />
									</Style>
								</DataGridTextColumn.CellStyle>
							</DataGridTextColumn>
							<DataGridTextColumn
								Header="{DynamicResource TruckName}"
								Width="6*"
								Binding="{Binding IngameName}">
								<DataGridTextColumn.CellStyle>
									<Style
										TargetType="DataGridCell">
										<Setter
											Property="ToolTip"
											Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Content.Text}" />
									</Style>
								</DataGridTextColumn.CellStyle>
							</DataGridTextColumn>
							<DataGridTemplateColumn 
								Header="{DynamicResource ModelType}"
								Width="3*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox
											BorderThickness="0,0,0,0"
											Text="{Binding ModelType, UpdateSourceTrigger=PropertyChanged}"
											ContextMenu="{DynamicResource MenuModelType}">
											<TextBox.Background>
												<MultiBinding
													Converter="{StaticResource optionWarning}">
													<Binding
														Path="ModelType" />
													<Binding
														Path="Check" />
												</MultiBinding>
											</TextBox.Background>
										</TextBox>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn
								Header="{DynamicResource ModelLook}"
								Width="3*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox
											BorderThickness="0,0,0,0"
											Text="{Binding Look, UpdateSourceTrigger=PropertyChanged}"
											ContextMenu="{DynamicResource MenuLook}">
											<TextBox.Background>
												<MultiBinding
													Converter="{StaticResource optionWarning}">
													<Binding
														Path="Look" />
													<Binding
														Path="Check" />
												</MultiBinding>
											</TextBox.Background>
										</TextBox>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn
								Header="{DynamicResource ModelVariant}"
								Width="3*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox
											BorderThickness="0,0,0,0"
											Text="{Binding Variant, UpdateSourceTrigger=PropertyChanged}"
											ContextMenu="{DynamicResource MenuVariant}">
											<TextBox.Background>
												<MultiBinding
													Converter="{StaticResource optionWarning}">
													<Binding
														Path="Variant" />
													<Binding
														Path="Check" />
												</MultiBinding>
											</TextBox.Background>
										</TextBox>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTextColumn
								Header="{DynamicResource TruckDescription}"
								Width="8*"
								Binding="{Binding Description}">
								<DataGridTextColumn.CellStyle>
									<Style
										TargetType="DataGridCell">
										<Setter
											Property="ToolTip"
											Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Content.Text}" />
									</Style>
								</DataGridTextColumn.CellStyle>
							</DataGridTextColumn>

						</DataGrid.Columns>
					</DataGrid>
				</Grid>
			</Expander>

			<GridSplitter
				Margin="0,7,0,7"
				Height="1"
				ResizeBehavior="PreviousAndCurrent"
				VerticalAlignment="Center"
				Background="#FF4C4B4B"
				HorizontalAlignment="Stretch" />

			<Expander
				x:Name="ExpanderATS"
				Header="{DynamicResource ExpanderATS}"
				IsExpanded="True"
				VerticalAlignment="Top"
				Padding="0,2,0,0"
				BorderBrush="Gray"
				BorderThickness="1,1,1,1">
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="Auto" />
						<ColumnDefinition
							Width="Auto" />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<CheckBox
						x:Name="SelectAllATS"
						Grid.Row="0"
						Grid.Column="0"
						Content="{DynamicResource CheckBoxSelectAll}"
						VerticalAlignment="Bottom"
						Checked="SelectAllChecked"
						Unchecked="SelectAllChecked" />
					<Button
						x:Name="ButtonAddTruckATS"
						Content="{DynamicResource TitleAddTruck}"
						Grid.Row="0"
						Grid.Column="1"
						Padding="5,3,5,3"
						Click="ButtonAddTruckClick" />
					<Button
						x:Name="ButtonDeleteTruckATS"
						Content="{DynamicResource ButtonDeleteTruck}"
						Grid.Row="0"
						Grid.Column="2"
						Margin="5,0,0,0"
						Padding="5,3,5,3"
						Click="ButtonDeleteTruckClick"
						VerticalAlignment="Bottom">
						<Button.Style>
							<Style
								TargetType="Button">
								<Style.Triggers>
									<DataTrigger
										Binding="{Binding SelectedIndex, ElementName=TableTrucksATS}"
										Value="-1">
										<Setter
											Property="IsEnabled"
											Value="False" />
									</DataTrigger>
								</Style.Triggers>
							</Style>
						</Button.Style>
					</Button>
					<DataGrid
						Margin="0,5,0,0"
						x:Name="TableTrucksATS"
						BorderThickness="0,1,0,0"
						RowHeaderWidth="0"
						Grid.Row="1"
						Grid.Column="0"
						Grid.ColumnSpan="3"
						GridLinesVisibility="Horizontal"
						Height="200"
						CanUserSortColumns="False"
						d:ItemsSource="{d:SampleData ItemCount=2}"
						AutoGenerateColumns="False">
						<DataGrid.HorizontalGridLinesBrush>
							<LinearGradientBrush
								EndPoint="0.5,1"
								StartPoint="0.5,0">
								<GradientStop
									Color="{DynamicResource {x:Static SystemColors.ActiveBorderColorKey}}"
									Offset="1" />
							</LinearGradientBrush>
						</DataGrid.HorizontalGridLinesBrush>
						<DataGrid.Columns>
							<DataGridTemplateColumn
								Width="Auto">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<CheckBox
											HorizontalAlignment="Center"
											Click="TruckCheckBoxClick"
											IsChecked="{Binding Check, UpdateSourceTrigger=PropertyChanged}" />
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTextColumn
								Header="{DynamicResource TruckID}"
								Width="6*"
								Binding="{Binding TruckID}">
								<DataGridTextColumn.CellStyle>
									<Style
										TargetType="DataGridCell">
										<Setter
											Property="ToolTip"
											Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Content.Text}" />
									</Style>
								</DataGridTextColumn.CellStyle>
							</DataGridTextColumn>
							<DataGridTextColumn
								Header="{DynamicResource TruckName}"
								Width="6*"
								Binding="{Binding IngameName}">
								<DataGridTextColumn.CellStyle>
									<Style
										TargetType="DataGridCell">
										<Setter
											Property="ToolTip"
											Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Content.Text}" />
									</Style>
								</DataGridTextColumn.CellStyle>
							</DataGridTextColumn>
							<DataGridTemplateColumn
								Header="{DynamicResource ModelType}"
								Width="3*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox
											BorderThickness="0,0,0,0"
											Text="{Binding ModelType}"
											ContextMenu="{DynamicResource MenuModelType}">
											<TextBox.Background>
												<MultiBinding
													Converter="{StaticResource optionWarning}">
													<Binding
														Path="ModelType" />
													<Binding
														Path="Check" />
												</MultiBinding>
											</TextBox.Background>
										</TextBox>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn
								Header="{DynamicResource ModelLook}"
								Width="3*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox
											BorderThickness="0,0,0,0"
											Text="{Binding Look}"
											ContextMenu="{DynamicResource MenuLook}">
											<TextBox.Background>
												<MultiBinding
													Converter="{StaticResource optionWarning}">
													<Binding
														Path="Look" />
													<Binding
														Path="Check" />
												</MultiBinding>
											</TextBox.Background>
										</TextBox>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn
								Header="{DynamicResource ModelVariant}"
								Width="3*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox
											BorderThickness="0,0,0,0"
											Text="{Binding Variant}"
											ContextMenu="{DynamicResource MenuVariant}">
											<TextBox.Background>
												<MultiBinding
													Converter="{StaticResource optionWarning}">
													<Binding
														Path="Variant" />
													<Binding
														Path="Check" />
												</MultiBinding>
											</TextBox.Background>
										</TextBox>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTextColumn
								Header="{DynamicResource TruckDescription}"
								Width="8*"
								Binding="{Binding Description}">
								<DataGridTextColumn.CellStyle>
									<Style
										TargetType="DataGridCell">
										<Setter
											Property="ToolTip"
											Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Content.Text}" />
									</Style>
								</DataGridTextColumn.CellStyle>
							</DataGridTextColumn>
						</DataGrid.Columns>
					</DataGrid>
				</Grid>
			</Expander>
		</StackPanel>

		<Grid
			Grid.Row="0"
			Grid.Column="1"
			Grid.RowSpan="5"
			Margin="10,0,10,0">
			<Grid.RowDefinitions>
				<RowDefinition
					Height="{Binding ActualHeight, ElementName=TitleProjectLocation, Mode=OneWay}" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="*" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
			</Grid.RowDefinitions>
			<Button
				x:Name="ButtonPrepare"
				Content="{DynamicResource TitleModPreparation}"
				Grid.Row="1"
				Padding="0,3,0,3"
				VerticalAlignment="Top"
				Click="ButtonPrepareClick" />
			<Button
				x:Name="ButtonSave"
				Content="{DynamicResource SaveDED}"
				Grid.Row="2"
				Margin="0,15,0,0"
				Padding="0,3,0,3"
				VerticalAlignment="Top"
				Click="ButtonSaveClick" />
			<Button
				x:Name="ButtonLoad"
				Content="{DynamicResource LoadDED}"
				Grid.Row="3"
				Margin="0,5,0,0"
				Padding="0,3,0,3"
				VerticalAlignment="Top"
				Click="ButtonLoadClick" />
			<Button
				x:Name="ButtonAddonHookup"
				Content="{DynamicResource TitleAddonHookup}"
				Grid.Row="4"
				Margin="0,15,0,0"
				Padding="0,3,0,3"
				VerticalAlignment="Top"
				Click="ButtonAddonHookupClick"
				Visibility="Collapsed"/>
			<Button
				x:Name="ButtonCleanSii"
				Content="{DynamicResource TitleCleanSii}"
				Grid.Row="5"
				Margin="0,15,0,0"
				Padding="0,3,0,3"
				VerticalAlignment="Top"
				Click="ButtonCleanSiiClick" />
			<Button
				x:Name="ButtonGenerateHookup"
				Content="{DynamicResource TitleCreateHookupSii}"
				Grid.Row="6"
				Margin="0,5,0,0"
				Padding="0,3,0,3"
				VerticalAlignment="Top"
				Click="ButtonHookupClick" />
			<Button
				x:Name="ButtonLocalization"
				Content="{DynamicResource TitleSetupLocalization}"
				Grid.Row="7"
				Margin="0,5,0,0"
				Padding="0,3,0,3"
				Click="ButtonLocalizationClick"
				VerticalAlignment="Top"
				VerticalContentAlignment="Top" />
			<CheckBox
				x:Name="CheckDeleteUnchecked"
				Grid.Row="9"
				IsChecked="{Binding DeleteUnchecked}"
				VerticalContentAlignment="Center">
				<TextBlock 
					TextWrapping="Wrap"
					Text="{DynamicResource CheckBoxDeleteUnchecked}"/>
			</CheckBox>
			<Button
				x:Name="ButtonStart"
				Grid.Row="10"
				Content="{DynamicResource ButtonStart}"
				VerticalAlignment="Top"
				Margin="0,5,0,0"
				Padding="0,5,0,5"
				FontSize="15"
				Click="ButtonStartClick" />
			<CheckBox
				x:Name="ComboLanguage"
				Margin="0,15,0,0"
				Grid.Row="8"
				Content="中文"
				VerticalAlignment="Top"
				Checked="ComboLanguage_Checked"
				Unchecked="ComboLanguage_Checked" />
		</Grid>


	</Grid>
</local:BaseWindow>
