<base:BaseWindow
	x:Class="SCS_Mod_Helper.Accessory.AccAddon.AccAddonWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:local="clr-namespace:SCS_Mod_Helper.Accessory.AccAddon"
	xmlns:main="clr-namespace:SCS_Mod_Helper.Main"
	xmlns:utils="clr-namespace:SCS_Mod_Helper.Utils"
	xmlns:base="clr-namespace:SCS_Mod_Helper.Base"
	xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
	d:DataContext="{d:DesignInstance Type=local:AccAddonBinding}"
	mc:Ignorable="d"
	Title="{DynamicResource TitleAccessoryAddon}"
	Width="1220"
	Height="800"
	WindowStartupLocation="CenterOwner"
	Closing="SaveOnClosing">
	<base:BaseWindow.Resources>
		<utils:ValueEqualsConverter
			x:Key="ValueEquals" />
		<utils:HideInConverter
			x:Key="HideInConverter" />
		<utils:MultiNullCheckConverter
			x:Key="MultiNullCheck" />
		<utils:ClearVisibilityConverter
			x:Key="ClearVisibility" />

		<Style
			x:Key="CMStyle"
			TargetType="MenuItem"
			BasedOn="{StaticResource {x:Type MenuItem}}">
			<Setter
				Property="ContextMenu"
				Value="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContextMenu}, Path=.}" />
			<Setter
				Property="Tag"
				Value="{Binding Path=.}" />
			<EventSetter
				Event="Click"
				Handler="OnMenuClicked" />
		</Style>
		<DataTemplate
			x:Key="CMTemplate">
			<TextBlock
				Text="{Binding Path=.}" />
		</DataTemplate>


		<ContextMenu
			x:Key="MenuStringRes"
			Placement="Top"
			ItemsSource="{Binding StringResList}">
			<ContextMenu.ItemContainerStyle>
				<Style
					TargetType="MenuItem"
					BasedOn="{StaticResource CMStyle}">
					<Setter
						Property="ToolTip"
						Value="{Binding Tooltip}" />
					<Setter
						Property="ToolTipService.InitialShowDelay"
						Value="100" />
					<Setter
						Property="Tag"
						Value="{Binding Tag}" />
					<Setter
						Property="IsEnabled"
						Value="{Binding IsEnabled}" />
				</Style>
			</ContextMenu.ItemContainerStyle>
			<ContextMenu.ItemTemplate>
				<DataTemplate>
					<Grid>
						<TextBlock
							Text="{Binding Header}"
							Visibility="{Binding TextBlockVisibility}" />
						<Separator
							Height="1"
							Visibility="{Binding SeparatorVisibility}" />
					</Grid>
				</DataTemplate>
			</ContextMenu.ItemTemplate>
		</ContextMenu>
		
		<ContextMenu
			x:Key="MenuModelType">
			<MenuItem
				Header="{DynamicResource MenuItem.cup_holder}"
				Click="OnMenuClicked"
				Tag="cup_holder">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.curtain_f}"
				Click="OnMenuClicked"
				Tag="curtain_f">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.drv_plate}"
				Click="OnMenuClicked"
				Tag="drv_plate">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.codrv_plate}"
				Click="OnMenuClicked"
				Tag="codrv_plate">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.flag_l}"
				Click="OnMenuClicked"
				Tag="flag_l/flag_f_l">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.flag_r}"
				Click="OnMenuClicked"
				Tag="flag_r/flag_f_r">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.back_wall}"
				Click="OnMenuClicked"
				Tag="inlight_bck/bckpanel">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.l_pillow}"
				Click="OnMenuClicked"
				Tag="l_pillow">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.set_cabinet}"
				Click="OnMenuClicked"
				Tag="set_cabinet">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.set_glass}"
				Click="OnMenuClicked"
				Tag="set_glass">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.set_lglass}"
				Click="OnMenuClicked"
				Tag="set_lglass">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.sterring_w}"
				Click="OnMenuClicked"
				Tag="sterring_w">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.toyhang}"
				Click="OnMenuClicked"
				Tag="toyhang">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.toyac}"
				Click="OnMenuClicked"
				Tag="toyac">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.toystand}"
				Click="OnMenuClicked"
				Tag="toystand">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.toyseat}"
				Click="OnMenuClicked"
				Tag="toyseat">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.toybed}"
				Click="OnMenuClicked"
				Tag="toybed">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.toybig}"
				Click="OnMenuClicked"
				Tag="toybig">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.toyback}"
				Click="OnMenuClicked"
				Tag="toyback">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.toysofa}"
				Click="OnMenuClicked"
				Tag="toysofa">
			</MenuItem>
			<MenuItem
				Header="{DynamicResource MenuItem.toytable}"
				Click="OnMenuClicked"
				Tag="toytable">
			</MenuItem>

		</ContextMenu>
		<ContextMenu
			x:Key="MenuLook"
			Opened="ContextMenu_Opened"
			ItemContainerStyle="{StaticResource CMStyle}"
			ItemTemplate="{StaticResource CMTemplate}">
			<ContextMenu.Resources>
				<Style
					TargetType="MenuItem">
					<Setter
						Property="Template">
						<Setter.Value>
							<ControlTemplate
								TargetType="MenuItem">
								<Separator />
							</ControlTemplate>
						</Setter.Value>
					</Setter>
				</Style>
			</ContextMenu.Resources>
		</ContextMenu>
		<ContextMenu
			x:Key="MenuVariant"
			ItemContainerStyle="{StaticResource CMStyle}"
			ItemTemplate="{StaticResource CMTemplate}" />
		
		<ContextMenu
			x:Key="MenuOthers">
			<MenuItem
				Header="{DynamicResource MenuOthersExteriorModel}"
				Click="OnMenuClicked"
				Tag="exterior_model" />
			<MenuItem
				Header="{DynamicResource MenuOthersExteriorModelUK}"
				Click="OnMenuClicked"
				Tag="exterior_model_uk" />
			<MenuItem
				Header="{DynamicResource MenuOthersData}"
				Click="OnMenuClicked"
				Tag="data" />
			<MenuItem
				Header="{DynamicResource MenuOthersSuitableFor}"
				Click="OnMenuClicked"
				Tag="suitable_for" />
			<MenuItem
				Header="{DynamicResource MenuOthersConflictWith}"
				Click="OnMenuClicked"
				Tag="conflict_with" />
			<MenuItem
				Header="{DynamicResource MenuOthersDefaults}"
				Click="OnMenuClicked"
				Tag="defaults" />
			<MenuItem
				Header="{DynamicResource MenuOthersOverrides}"
				Click="OnMenuClicked"
				Tag="overrides" />
			<MenuItem
				Header="{DynamicResource MenuOtherRequire}"
				Click="OnMenuClicked"
				Tag="require" />
		</ContextMenu>

		<Style
			x:Key="TruckTableTextBoxStyle"
			TargetType="TextBox"
			BasedOn="{StaticResource TableTextBoxStyle}">
			<Style.Triggers>
				<MultiDataTrigger>
					<MultiDataTrigger.Conditions>
						<Condition
							Binding="{Binding RelativeSource={RelativeSource Self}, Path=Text}"
							Value="" />
						<Condition
							Binding="{Binding Check}"
							Value="True" />
					</MultiDataTrigger.Conditions>
					<MultiDataTrigger.Setters>
						<Setter
							Property="Background"
							Value="Yellow" />
					</MultiDataTrigger.Setters>
				</MultiDataTrigger>
			</Style.Triggers>
		</Style>
		
		<Style
			x:Key="TextBoxBorderless"
			TargetType="TextBox"
			BasedOn="{StaticResource {x:Type TextBox}}">
			<Setter
				Property="Padding"
				Value="5,3,5,3" />
			<Setter
				Property="BorderThickness"
				Value="0" />
			<Setter
				Property="VerticalContentAlignment"
				Value="Center" />
		</Style>
		<Style
			x:Key="ComboBoxBorderless"
			TargetType="ComboBox"
			BasedOn="{StaticResource {x:Type ComboBox}}">
			<Setter
				Property="BorderThickness"
				Value="0" />
			<Setter
				Property="VerticalContentAlignment"
				Value="Center" />
		</Style>
		<Style
			x:Key="ButtonBorderless"
			TargetType="Button"
			BasedOn="{StaticResource {x:Type Button}}">
			<Setter
				Property="Padding"
				Value="2" />
			<Setter
				Property="VerticalAlignment"
				Value="Top" />
			<Setter
				Property="BorderThickness"
				Value="0" />
			<Setter
				Property="Width"
				Value="{Binding ActualHeight, ElementName=TextModelName}" />
			<Setter
				Property="Height"
				Value="{Binding ActualHeight, ElementName=TextModelName}" />
		</Style>
	</base:BaseWindow.Resources>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition
				Height="Auto" />
			<RowDefinition
				Height="*" />
		</Grid.RowDefinitions>
		<ui:TitleBar
			Title="{DynamicResource TitleAccessoryAddon}" />
		<Grid
			x:Name="GridMain"
			Grid.Row="1"
			Margin="10,0,10,10">
			<Grid.ColumnDefinitions>
				<ColumnDefinition
					Width="*" />
				<ColumnDefinition
					Width="2*" />
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition
					Height="*" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
			</Grid.RowDefinitions>
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="*" />
				</Grid.RowDefinitions>
				<StackPanel>
					<StackPanel>
						<TextBlock
							x:Name="TitleProjectLocation"
							Grid.ColumnSpan="2"
							TextWrapping="Wrap"
							VerticalAlignment="Center"
							Text="{DynamicResource SCSProjectLocation}" />
						<TextBox
							x:Name="TextProjectLocation"
							IsReadOnly="True"
							TextWrapping="Wrap"
							VerticalAlignment="Top"
							MaxLines="1"
							Text="{Binding ProjectLocation, Mode=OneWay}">
							<TextBox.Style>
								<Style
									TargetType="TextBox"
									BasedOn="{StaticResource {x:Type TextBox}}">
									<Style.Triggers>
										<DataTrigger
											Binding="{Binding ProjectExist}"
											Value="false">
											<Setter
												Property="Foreground"
												Value="Red" />
											<Setter
												Property="ToolTip"
												Value="{DynamicResource SCSProjectLocationTipNotExist}" />
										</DataTrigger>
										<Trigger
											Property="Text"
											Value="">
											<Setter
												Property="Background"
												Value="Yellow" />
										</Trigger>
									</Style.Triggers>
								</Style>
							</TextBox.Style>
						</TextBox>
					</StackPanel>
					<Grid
						Margin="0,5,0,0">
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="5" />
							<ColumnDefinition
								Width="*" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition
								Height="*" />
							<RowDefinition
								Height="*" />
							<RowDefinition
								Height="*" />
							<RowDefinition
								Height="*" />
						</Grid.RowDefinitions>

						<StackPanel
							Grid.ColumnSpan="3">
							<TextBlock
								TextWrapping="Wrap"
								VerticalAlignment="Top"
								Text="{DynamicResource ModelDisplayName}" />
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition
										Width="*" />
									<ColumnDefinition
										Width="Auto" />
									<ColumnDefinition
										Width="Auto" />
								</Grid.ColumnDefinitions>
								<Border
									Grid.ColumnSpan="3"
									Style="{DynamicResource MultiControlBorder}"/>
								<TextBox
									x:Name="TextDisplayName"
									Text="{Binding DisplayName, UpdateSourceTrigger=PropertyChanged}"
									TextWrapping="Wrap">
									<TextBox.Style>
										<Style
											TargetType="TextBox"
											BasedOn="{StaticResource TextBoxBorderless}">
											<Style.Triggers>
												<Trigger
													Property="Text"
													Value="">
													<Setter
														Property="Background"
														Value="Yellow" />
												</Trigger>
											</Style.Triggers>
										</Style>
									</TextBox.Style>
								</TextBox>
								<Button
									x:Name="ButtonCheckRes"
									Grid.Column="1"
									Click="CheckStringRes"
									Visibility="{Binding CheckResVisibility}"
									Style="{StaticResource ButtonBorderless}">
									<Viewbox>
										<ui:SymbolIcon
											Symbol="Search16" />
									</Viewbox>
								</Button>
								<Popup
									x:Name="PopupCheckRes"
									PlacementTarget="{Binding ElementName=ButtonCheckRes}"
									PopupAnimation="Slide"
									AllowsTransparency="True"
									IsOpen="{Binding PopupCheckOpen}"
									StaysOpen="False">
									<Grid>
										<Border
											Style="{DynamicResource PopupBorder}"/>
										<StackPanel
											Margin="10">
											<TextBlock>
												<Run
													Text="{DynamicResource CheckResResult}" />
											</TextBlock>
											<Border
												Margin="0,10,0,10"
												Style="{DynamicResource SpliterBorder}"/>
											<TextBlock
												Text="{Binding CheckResResult}" />
											<Border
												Margin="0,10,0,10"
												Style="{DynamicResource SpliterBorder}" />
											<TextBlock>
											<Run
													Text="{DynamicResource CheckResResultTips}" />
											</TextBlock>
										</StackPanel>
									</Grid>
								</Popup>
								<Button
									x:Name="ButtonChooseRes"
									Grid.Column="2"
									Click="ChooseStringRes"
									Style="{StaticResource ButtonBorderless}"
									Width="{Binding ActualHeight, Mode=OneWay, RelativeSource={RelativeSource Self}}">
									<Viewbox>
										<ui:SymbolIcon
											Symbol="Translate16" />
									</Viewbox>
								</Button>
							</Grid>
						</StackPanel>

						<StackPanel
							Grid.Row="1"
							Margin="0,5,0,0">
							<StackPanel
								Orientation="Horizontal">
								<TextBlock
									x:Name="TitleModelName"
									TextWrapping="Wrap"
									Text="{DynamicResource ModelName}" />
								<Border
									ToolTip="{DynamicResource ModelNameTip}"
									Width="{Binding ActualHeight, ElementName=TitleModelName, Mode=OneWay}"
									Height="{Binding ActualHeight, ElementName=TitleModelName, Mode=OneWay}">
									<Viewbox>
										<ui:SymbolIcon
											Symbol="Chat16" />
									</Viewbox>
								</Border>
							</StackPanel>
							<TextBox
								x:Name="TextModelName"
								TextWrapping="Wrap"
								MaxLines="1"
								Text="{Binding ModelName, UpdateSourceTrigger=PropertyChanged}"
								VerticalAlignment="Top">
								<TextBox.Style>
									<Style
										TargetType="TextBox"
										BasedOn="{StaticResource {x:Type TextBox}}">
										<Style.Triggers>
											<DataTrigger
												Binding="{Binding NameOver12}"
												Value="True">
												<Setter
													Property="Foreground"
													Value="Red" />
											</DataTrigger>
											<Trigger
												Property="Text"
												Value="">
												<Setter
													Property="Background"
													Value="Yellow" />
											</Trigger>
										</Style.Triggers>
									</Style>
								</TextBox.Style>
							</TextBox>
						</StackPanel>

						<StackPanel
							Grid.Row="1"
							Grid.Column="2"
							Margin="0,5,0,0">
							<StackPanel
								Orientation="Horizontal">
								<TextBlock
									TextWrapping="Wrap"
									VerticalAlignment="Top"
									Text="{DynamicResource PartType}" />
								<Border
									ToolTip="{DynamicResource PartTypeTip}"
									Height="{Binding ActualHeight, ElementName=TitleIconName, Mode=OneWay}">
									<Viewbox>
										<ui:SymbolIcon
											Symbol="Chat16" />
									</Viewbox>
								</Border>
							</StackPanel>
							<ComboBox
								x:Name="TextPartType"
								DisplayMemberPath="PartTypeDisplay"
								SelectedValuePath="PartTypeValue"
								SelectedValue="{Binding PartType}"
								ItemsSource="{Binding PartTypes}"
								IsEditable="True"
								IsReadOnly="true" />
						</StackPanel>

						<StackPanel
							Grid.Row="2"
							Margin="0,5,0,0">
							<TextBlock
								TextWrapping="Wrap"
								VerticalAlignment="Top"
								Text="{DynamicResource ModelPrice}" />
							<TextBox
								x:Name="TextPrice"
								Text="{Binding Price}"
								MaxLines="1"
								PreviewTextInput="NumberOnly"
								TextWrapping="Wrap"
								VerticalAlignment="Top">
								<TextBox.Style>
									<Style
										TargetType="TextBox"
										BasedOn="{StaticResource {x:Type TextBox}}">
										<Style.Triggers>
											<Trigger
												Property="Text"
												Value="">
												<Setter
													Property="Background"
													Value="Yellow" />
											</Trigger>
											<Trigger
												Property="Text"
												Value="0">
												<Setter
													Property="Background"
													Value="Red" />
												<Setter
													Property="ToolTip"
													Value="{DynamicResource ModelPriceErrNot0}" />
											</Trigger>
										</Style.Triggers>
									</Style>
								</TextBox.Style>
							</TextBox>
						</StackPanel>

						<StackPanel
							Grid.Row="2"
							Grid.Column="2"
							Margin="0,5,0,0">
							<TextBlock
								TextWrapping="Wrap"
								VerticalAlignment="Top">
							<Run
									Language="zh-cn"
									Text="{DynamicResource ModelUnlockLevel}" />
							</TextBlock>
							<TextBox
								x:Name="TextUnlockLevel"
								Text="{Binding UnlockLevel}"
								MaxLines="1"
								PreviewTextInput="NumberOnly"
								TextWrapping="Wrap"
								VerticalAlignment="Top">
								<TextBox.Style>
									<Style
										TargetType="TextBox"
										BasedOn="{StaticResource {x:Type TextBox}}">
										<Style.Triggers>
											<Trigger
												Property="Text"
												Value="">
												<Setter
													Property="Background"
													Value="Yellow" />
											</Trigger>
										</Style.Triggers>
									</Style>
								</TextBox.Style>
							</TextBox>
						</StackPanel>

						<StackPanel
							x:Name="PanelIconName"
							Grid.Row="3"
							Margin="0,5,0,0">
							<StackPanel
								Orientation="Horizontal">
								<TextBlock
									x:Name="TitleIconName"
									TextWrapping="Wrap"
									VerticalAlignment="Top"
									Text="{DynamicResource ModelIcon}" />
								<Border
									ToolTip="{DynamicResource ModelIconTip}"
									Height="{Binding ActualHeight, ElementName=TitleIconName, Mode=OneWay}">
									<Viewbox>
										<ui:SymbolIcon
											Symbol="Chat16" />
									</Viewbox>
								</Border>
							</StackPanel>
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition
										Width="*" />
									<ColumnDefinition
										Width="Auto" />
									<ColumnDefinition
										Width="Auto" />
								</Grid.ColumnDefinitions>
								<Border
									Grid.ColumnSpan="3"
									Style="{DynamicResource MultiControlBorder}" />
								<TextBox
									x:Name="TextIconName"
									Text="{Binding IconName}"
									MaxLines="1"
									TextWrapping="Wrap">
									<TextBox.Style>
										<Style
											TargetType="TextBox"
											BasedOn="{StaticResource TextBoxBorderless}">
											<Style.Triggers>
												<Trigger
													Property="Text"
													Value="">
													<Setter
														Property="Background"
														Value="Yellow" />
												</Trigger>
											</Style.Triggers>
										</Style>
									</TextBox.Style>
								</TextBox>
								<Button
									x:Name="ButtonIconNameClear"
									Grid.Column="1"
									Click="ButtonClearClick"
									Style="{StaticResource ButtonBorderless}"
									Visibility="{Binding IconName, Converter={StaticResource ClearVisibility}}">
									<Viewbox>
										<ui:SymbolIcon
											Symbol="Dismiss16" />
									</Viewbox>
								</Button>
								<Button
									x:Name="ButtonIconName"
									Grid.Column="2"
									Click="ButtonChooseIcon"
									Style="{StaticResource ButtonBorderless}">
									<Viewbox>
										<ui:SymbolIcon
											Symbol="Folder16" />
									</Viewbox>
								</Button>
							</Grid>
						</StackPanel>

						<Border
							Grid.Row="3"
							Grid.Column="2"
							Margin="0,5,0,0"
							HorizontalAlignment="Left"
							VerticalAlignment="Center"
							Height="{Binding ActualHeight, ElementName=PanelIconName, Mode=OneWay}">
							<Border.Style>
								<Style
									TargetType="Border"
									BasedOn="{StaticResource MultiControlBorder}">
									<Style.Triggers>
										<DataTrigger Binding="{Binding ModelIcon}" Value="{x:Null}">
											<Setter
												Property="Visibility"
												Value="Collapsed" />
										</DataTrigger>
									</Style.Triggers>
								</Style>
							</Border.Style>
							<Viewbox
								StretchDirection="DownOnly">
								<Image
									Stretch="Uniform"
									Source="{Binding ModelIcon}"
									d:Source="/Images/ModelIconPlaceholder.png" />
							</Viewbox>
						</Border>
					</Grid>

					<Border
						Height="1"
						Margin="0,7,0,7"
						VerticalAlignment="Center"
						Background="#FF4C4B4B"
						HorizontalAlignment="Stretch" />

					<StackPanel
						Margin="0,0,0,0">
						<TextBlock
							Grid.ColumnSpan="3"
							TextWrapping="Wrap"
							VerticalAlignment="Top"
							Text="{DynamicResource ModelFilePath}" />
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									Width="*" />
								<ColumnDefinition
									Width="Auto" />
								<ColumnDefinition
									Width="Auto" />
							</Grid.ColumnDefinitions>
							<Border
								Grid.ColumnSpan="3"
								Style="{DynamicResource MultiControlBorder}" />
							<TextBox
								x:Name="TextModelPath"
								Text="{Binding ModelPath}"
								TextWrapping="Wrap"
								MaxLines="2">
								<TextBox.Style>
									<Style
										TargetType="TextBox"
										BasedOn="{StaticResource TextBoxBorderless}">
										<Style.Triggers>
											<Trigger
												Property="Text"
												Value="">
												<Setter
													Property="Background"
													Value="Yellow" />
											</Trigger>
										</Style.Triggers>
									</Style>
								</TextBox.Style>
							</TextBox>
							<Button
								x:Name="ButtonChooseModelClear"
								Grid.Column="1"
								Click="ButtonClearClick"
								Style="{StaticResource ButtonBorderless}"
								Visibility="{Binding ModelPath, Converter={StaticResource ClearVisibility}}">
								<Viewbox>
									<ui:SymbolIcon
										Symbol="Dismiss16" />
								</Viewbox>
							</Button>
							<Button
								x:Name="ButtonChooseModel"
								Grid.Column="2"
								Click="ButtonChooseModelClick"
								Style="{StaticResource ButtonBorderless}">
								<Viewbox>
									<ui:SymbolIcon
										Symbol="Folder16" />
								</Viewbox>
							</Button>
						</Grid>
					</StackPanel>

					<StackPanel
						Margin="0,2,0,0">
						<StackPanel
							Orientation="Horizontal">
							<TextBlock
								x:Name="TitleModelPathUK"
								Grid.Row="0"
								Grid.Column="0"
								Grid.ColumnSpan="3"
								TextWrapping="Wrap"
								VerticalAlignment="Bottom"
								Text="{DynamicResource ModelFilePathUK}" />
							<Border
								ToolTip="{DynamicResource ModelFilePathUKTip}">
								<Viewbox>
									<ui:SymbolIcon
										Symbol="Chat16" />
								</Viewbox>
							</Border>
						</StackPanel>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									Width="*" />
								<ColumnDefinition
									Width="Auto" />
								<ColumnDefinition
									Width="Auto" />
							</Grid.ColumnDefinitions>
							<Border
								Grid.ColumnSpan="3"
								Style="{DynamicResource MultiControlBorder}" />
							<TextBox
								x:Name="TextModelPathUK"
								Grid.Column="0"
								Text="{Binding ModelPathUK}"
								TextWrapping="Wrap"
								MaxLines="2"
								Style="{StaticResource TextBoxBorderless}" />
							<Button
								x:Name="ButtonChooseModelUKClear"
								Grid.Column="1"
								Click="ButtonClearClick"
								Style="{StaticResource ButtonBorderless}"
								Visibility="{Binding ModelPathUK, Converter={StaticResource ClearVisibility}}">
								<Viewbox>
									<ui:SymbolIcon
										Symbol="Dismiss16" />
								</Viewbox>
							</Button>
							<Button
								x:Name="ButtonChooseModelUK"
								Grid.Column="2"
								Click="ButtonChooseModelClick"
								Style="{StaticResource ButtonBorderless}">
								<Viewbox>
									<ui:SymbolIcon
										Symbol="Folder16" />
								</Viewbox>
							</Button>
						</Grid>
					</StackPanel>

					<StackPanel
						Margin="0,5,0,0">
						<StackPanel
							Orientation="Horizontal">
							<ui:ToggleSwitch
								x:Name="CheckUseCollPath"
								Grid.Row="0"
								Grid.Column="0"
								Grid.ColumnSpan="3"
								VerticalAlignment="Bottom"
								d:IsChecked="True"
								IsChecked="{Binding UseCollPath}"
								Content="{DynamicResource ModelCollPath}"
								Padding="0,0,11,0"
								MinHeight="0"
								VerticalContentAlignment="Center"
								Cursor="" />
						</StackPanel>
						<Grid>
							<Grid.Style>
								<Style
									TargetType="Grid">
									<Style.Triggers>
										<DataTrigger
											Binding="{Binding IsChecked, ElementName=CheckUseCollPath}"
											Value="False">
											<Setter
												Property="Visibility"
												Value="Collapsed" />
										</DataTrigger>
									</Style.Triggers>
								</Style>
							</Grid.Style>
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									Width="*" />
								<ColumnDefinition
									Width="Auto" />
								<ColumnDefinition
									Width="Auto" />
							</Grid.ColumnDefinitions>
							<Border
								Grid.ColumnSpan="3"
								Style="{DynamicResource MultiControlBorder}" />
							<TextBox
								x:Name="TextCollPath"
								Grid.Column="0"
								Text="{Binding CollPath}"
								TextWrapping="Wrap"
								MaxLines="2"
								Style="{StaticResource TextBoxBorderless}" />
							<Button
								x:Name="ButtonChooseCollClear"
								Grid.Column="1"
								Click="ButtonClearClick"
								Style="{StaticResource ButtonBorderless}"
								Visibility="{Binding CollPath, Converter={StaticResource ClearVisibility}}">
								<Viewbox>
									<ui:SymbolIcon
										Symbol="Dismiss16" />
								</Viewbox>
							</Button>
							<Button
								x:Name="ButtonChooseColl"
								Grid.Column="2"
								Click="ButtonChooseModelClick"
								Style="{StaticResource ButtonBorderless}">
								<Viewbox>
									<ui:SymbolIcon
										Symbol="Folder16" />
								</Viewbox>
							</Button>
						</Grid>
					</StackPanel>

					<Grid
						Margin="0,2,0,0">
						<Grid.RowDefinitions>
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="*" />
							<RowDefinition
								Height="2" />
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="*" />
							<RowDefinition
								Height="2" />
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="*" />
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="5" />
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="Auto" />
						</Grid.ColumnDefinitions>

						<TextBlock
							TextWrapping="Wrap"
							VerticalAlignment="Top"
							Grid.ColumnSpan="5">
						<Run
								Text="{DynamicResource ModelType}" />
						<Run
								Text="{DynamicResource ModelTypeTip}" />
						</TextBlock>
						<Border
							Grid.Row="1"
							Grid.ColumnSpan="5"
							Style="{DynamicResource MultiControlBorder}" />
						<ComboBox
							x:Name="TextModelType"
							Grid.Row="1"
							Text="{Binding ModelType}"
							DisplayMemberPath="Accessory"
							IsEditable="True"
							IsTextSearchEnabled="True"
							FontSize="12"
							ItemsSource="{Binding ModelTypes}"
							SelectedValue="{Binding CurrentModelType, Mode=TwoWay}"
							Style="{StaticResource ComboBoxBorderless}">
						</ComboBox>
						<Button
							x:Name="ButtonCoverModelType"
							Grid.Row="1"
							Grid.Column="1"
							Click="ButtonCoverValue"
							Style="{StaticResource ButtonBorderless}">
							<Viewbox>
								<ui:SymbolIcon
									Symbol="ClipboardPaste16" />
							</Viewbox>
						</Button>
						<TextBox
							x:Name="TextAccName"
							Text="{Binding CurrentModelType.Name}"
							Grid.Row="1"
							Grid.Column="2"
							Grid.ColumnSpan="3"
							TextWrapping="Wrap"
							IsReadOnly="True"
							VerticalContentAlignment="Center"
							ToolTip="{Binding CurrentModelType.Name}"
							Style="{StaticResource TextBoxBorderless}" />

						<TextBlock
							Grid.Row="3"
							Grid.ColumnSpan="2"
							TextWrapping="Wrap"
							VerticalAlignment="Top"
							Text="{DynamicResource ModelLook}" />
						<Border
							Grid.Row="4"
							Grid.ColumnSpan="2"
							Style="{DynamicResource MultiControlBorder}" />
						<ComboBox
							x:Name="TextLook"
							Grid.Row="4"
							Text="{Binding Look}"
							ItemsSource="{Binding LookList}"
							Style="{StaticResource ComboBoxBorderless}"
							IsEditable="True"
							IsTextSearchEnabled="True" />
						<Button
							x:Name="ButtonCoverLook"
							Grid.Row="4"
							Grid.Column="1"
							Click="ButtonCoverValue"
							Style="{StaticResource ButtonBorderless}">
							<Viewbox>
								<ui:SymbolIcon
									Symbol="ClipboardPaste16" />
							</Viewbox>
						</Button>
						<TextBlock
							Grid.Row="3"
							Grid.Column="3"
							Grid.ColumnSpan="2"
							TextWrapping="Wrap"
							VerticalAlignment="Top"
							Text="{DynamicResource ModelVariant}" />
						<Border
							Grid.Row="4"
							Grid.Column="3"
							Grid.ColumnSpan="2"
							Style="{DynamicResource MultiControlBorder}" />
						<ComboBox
							x:Name="TextVariant"
							Grid.Row="4"
							Grid.Column="3"
							Text="{Binding Variant}"
							ItemsSource="{Binding VariantList}"
							IsEditable="True"
							IsTextSearchEnabled="True"
							Style="{StaticResource ComboBoxBorderless}" />
						<Button
							x:Name="ButtonCoverVariant"
							Grid.Row="4"
							Grid.Column="4"
							Click="ButtonCoverValue"
							Style="{StaticResource ButtonBorderless}">
							<Viewbox>
								<ui:SymbolIcon
									Symbol="ClipboardPaste16" />
							</Viewbox>
						</Button>

						<TextBlock
							TextWrapping="Wrap"
							VerticalAlignment="Top"
							Grid.Row="6"
							Grid.ColumnSpan="3">
						<Run
								Text="{DynamicResource HideIn}" />
						</TextBlock>
						<Border
							Grid.Row="7"
							Grid.ColumnSpan="2"
							Style="{DynamicResource MultiControlBorder}" />
						<TextBox
							x:Name="TextHideIn"
							Grid.Row="7"
							IsReadOnly="True"
							Text="{Binding HideIn, Converter={StaticResource HideInConverter}}"
							Style="{StaticResource TextBoxBorderless}" />
						<Button
							x:Name="ButtonSetHideIn"
							Grid.Row="7"
							Grid.Column="1"
							Click="ButtonHideIn"
							Style="{StaticResource ButtonBorderless}">
							<Viewbox>
								<ui:SymbolIcon
									Symbol="Add16" />
							</Viewbox>
						</Button>
						<Popup
							x:Name="PopupHideIn"
							PlacementTarget="{Binding ElementName=ButtonSetHideIn}"
							PopupAnimation="Slide"
							AllowsTransparency="True"
							StaysOpen="False"
							Placement="Top">
							<Grid>
								<Border Style="{DynamicResource PopupBorder}"/>
								<StackPanel
									Margin="10">
									<TextBlock
										Text="{DynamicResource TitleHideIn}"
										TextWrapping="Wrap" />
									<CheckBox
										x:Name="CheckMainView"
										Content="Main View"
										Margin="0,2,0,0"
										Tag="0x7"
										Checked="HideInChecked"
										Unchecked="HideInUnchecked" />
									<CheckBox
										x:Name="CheckReflectionCube"
										Content="Reflection Cube"
										Margin="0,2,0,0"
										Tag="0x1F8"
										Checked="HideInChecked"
										Unchecked="HideInUnchecked" />
									<CheckBox
										x:Name="CheckCloseMirror"
										Content="Close Mirror"
										Margin="0,2,0,0"
										Tag="0x600"
										Checked="HideInChecked"
										Unchecked="HideInUnchecked" />
									<CheckBox
										x:Name="CheckFarMirror"
										Content="Far Mirror"
										Margin="0,2,0,0"
										Tag="0x1800"
										Checked="HideInChecked"
										Unchecked="HideInUnchecked" />
									<CheckBox
										x:Name="CheckSideMirror"
										Content="Side Mirror"
										Margin="0,2,0,0"
										Tag="0x2000"
										Checked="HideInChecked"
										Unchecked="HideInUnchecked" />
									<CheckBox
										x:Name="CheckFrontMirror"
										Content="Front Mirror"
										Margin="0,2,0,0"
										Tag="0x4000"
										Checked="HideInChecked"
										Unchecked="HideInUnchecked" />
									<CheckBox
										x:Name="CheckShadows"
										Content="Shadows"
										Margin="0,2,0,0"
										Tag="0x1FFE0000"
										Checked="HideInChecked"
										Unchecked="HideInUnchecked" />
									<CheckBox
										x:Name="CheckRainReflection"
										Content="Rain reflection"
										Margin="0,2,0,0"
										Tag="0xE0000000"
										Checked="HideInChecked"
										Unchecked="HideInUnchecked" />
								</StackPanel>
							</Grid>
						</Popup>
					</Grid>
				</StackPanel>

				<Grid
					Grid.Row="2"
					Margin="0,2,0,0">
					<Grid.RowDefinitions>
						<RowDefinition
							Height="Auto" />
						<RowDefinition
							Height="*" />
					</Grid.RowDefinitions>
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="Auto" />
						</Grid.ColumnDefinitions>
						<TextBlock
							TextWrapping="Wrap"
							Text="{DynamicResource Others}"
							VerticalAlignment="Bottom" />
						<Border
							Grid.Column="1"
							ToolTip="{DynamicResource OthersTip}">
							<Viewbox>
								<ui:SymbolIcon
									Symbol="Chat16" />
							</Viewbox>
						</Border>
						<Border
							Grid.Column="3"
							Grid.ColumnSpan="2"
							Style="{DynamicResource MultiControlBorder}" />
						<Button
							x:Name="ButtonOthersAdd"
							Grid.Column="3"
							Click="ButtonOthersClick"
							Padding="2"
							Width="20"
							Height="20"
							VerticalAlignment="Stretch">
							<Viewbox>
								<ui:SymbolIcon
									Symbol="Add16" />
							</Viewbox>
						</Button>
						<Button
							x:Name="ButtonOthersRemove"
							Grid.Column="4"
							Click="ButtonOthersClick"
							Padding="2"
							Width="20"
							Height="20"
							VerticalAlignment="Stretch">
							<Viewbox>
								<ui:SymbolIcon
									Symbol="Dismiss16" />
							</Viewbox>
							<Button.Style>
								<Style
									TargetType="Button"
									BasedOn="{StaticResource {x:Type Button}}">
									<Style.Triggers>
										<DataTrigger
											Binding="{Binding SelectedIndex, ElementName=TableOthers}"
											Value="-1">
											<Setter
												Property="IsEnabled"
												Value="False" />
										</DataTrigger>
									</Style.Triggers>
								</Style>
							</Button.Style>
						</Button>
					</Grid>
					<DataGrid
						x:Name="TableOthers"
						Grid.Row="1"
						GridLinesVisibility="Horizontal"
						CanUserSortColumns="False"
						CanUserAddRows="False"
						d:ItemsSource="{d:SampleData ItemCount=2}"
						ItemsSource="{Binding OthersList}"
						AutoGenerateColumns="False"
						Grid.RowSpan="2"
						BorderBrush="{DynamicResource TextControlElevationBorderBrush}"
						BorderThickness="1"
						ColumnHeaderStyle="{StaticResource DataGridHeader}"
						DataGrid.CellStyle="{StaticResource CompatCellStyle}"
						VirtualizingPanel.IsContainerVirtualizable="True"
						VirtualizingPanel.IsVirtualizing="True"
						VirtualizingPanel.VirtualizationMode="Recycling">
						<DataGrid.HorizontalGridLinesBrush>
							<LinearGradientBrush
								EndPoint="0.5,1"
								StartPoint="0.5,0">
								<GradientStop
									Color="{DynamicResource {x:Static SystemColors.ActiveBorderColorKey}}"
									Offset="1" />
							</LinearGradientBrush>
						</DataGrid.HorizontalGridLinesBrush>
						<DataGrid.Columns>
							<DataGridTemplateColumn
								Header="{DynamicResource HeaderOthersName}"
								Width="*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox
											BorderThickness="0"
											Text="{Binding OthersName, UpdateSourceTrigger=PropertyChanged}"
											ToolTip="{Binding OthersNameTip}"
											ContextMenu="{DynamicResource MenuOthers}"
											VerticalContentAlignment="Center">
											<TextBox.Style>
												<Style
													TargetType="TextBox"
													BasedOn="{StaticResource TableTextBoxStyle}">
													<Style.Triggers>
														<DataTrigger
															Binding="{Binding OthersName}"
															Value="">
															<Setter
																Property="Background"
																Value="Yellow" />
														</DataTrigger>
													</Style.Triggers>
												</Style>
											</TextBox.Style>
										</TextBox>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn
								Header="{DynamicResource HeaderIsArray}"
								Width="Auto"
								CanUserResize="False">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<CheckBox
											IsChecked="{Binding IsArray, UpdateSourceTrigger=PropertyChanged}"
											IsEnabled="{Binding CheckBoxEnabled}"
											HorizontalAlignment="Center"
											Padding="0"
											VerticalAlignment="Center"
											MinWidth="20"
											MinHeight="20" />
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn
								Header="{DynamicResource HeaderUseQuote}"
								Width="Auto"
								CanUserResize="False">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<CheckBox
											IsChecked="{Binding UseQuoteMark, UpdateSourceTrigger=PropertyChanged}"
											IsEnabled="{Binding CheckBoxEnabled}"
											HorizontalAlignment="Center"
											Padding="0"
											VerticalAlignment="Center"
											MinWidth="20"
											MinHeight="20" />
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn
								Header="{DynamicResource HeaderOthersValue}"
								Width="*">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<TextBox
											BorderThickness="0,0,0,0"
											Text="{Binding OthersValue, UpdateSourceTrigger=PropertyChanged}"
											VerticalContentAlignment="Center">
											<TextBox.Style>
												<Style
													TargetType="TextBox"
													BasedOn="{StaticResource TableTextBoxStyle}">
													<Style.Triggers>
														<DataTrigger
															Binding="{Binding OthersValue}"
															Value="">
															<Setter
																Property="Background"
																Value="Yellow" />
														</DataTrigger>
													</Style.Triggers>
												</Style>
											</TextBox.Style>
										</TextBox>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
							<DataGridTemplateColumn
								Width="25"
								CanUserResize="False">
								<DataGridTemplateColumn.CellTemplate>
									<DataTemplate>
										<Button
											Padding="0"
											Click="ButtonPhysicsClick"
											Visibility="{Binding ShowOptionVisibility}"
											HorizontalAlignment="Stretch"
											VerticalAlignment="Stretch">
											<Viewbox>
												<ui:SymbolIcon
													Symbol="Settings16" />
											</Viewbox>
										</Button>
									</DataTemplate>
								</DataGridTemplateColumn.CellTemplate>
							</DataGridTemplateColumn>
						</DataGrid.Columns>
					</DataGrid>
				</Grid>
			</Grid>

			<Grid
				x:Name="GridTrucks"
				Grid.Column="1"
				Margin="15,0,0,0">
				<Grid.RowDefinitions>
					<RowDefinition
						Height="Auto" />
					<RowDefinition>
						<RowDefinition.Style>
							<Style
								TargetType="RowDefinition">
								<Style.Triggers>
									<DataTrigger
										Binding="{Binding Path=IsExpanded, ElementName=ExpanderETS2}"
										Value="False">
										<Setter
											Property="Height"
											Value="Auto" />
									</DataTrigger>
								</Style.Triggers>
							</Style>
						</RowDefinition.Style>
					</RowDefinition>
					<RowDefinition
						Height="Auto" />
					<RowDefinition>
						<RowDefinition.Style>
							<Style
								TargetType="RowDefinition">
								<Style.Triggers>
									<DataTrigger
										Binding="{Binding Path=IsExpanded, ElementName=ExpanderATS}"
										Value="False">
										<Setter
											Property="Height"
											Value="Auto" />
									</DataTrigger>
								</Style.Triggers>
							</Style>
						</RowDefinition.Style>
					</RowDefinition>
				</Grid.RowDefinitions>
				<Grid
					Grid.Row="0"
					Grid.Column="0"
					Cursor="">
					<Grid.ColumnDefinitions>
						<ColumnDefinition
							Width="*" />
						<ColumnDefinition
							Width="Auto" />
					</Grid.ColumnDefinitions>
					<TextBlock>
					<Run
							Text="{DynamicResource ModelTruckTip}" />
					</TextBlock>

					<Button
						x:Name="ButtonInitialize"
						Grid.Column="1"
						Content="{DynamicResource ButtonInitializeTrucks}"
						Padding="20,5,20,5"
						FontSize="14"
						Click="ButtonTruckInitialize"
						VerticalAlignment="Bottom" />
				</Grid>
				<Expander
					x:Name="ExpanderETS2"
					Header="{DynamicResource ExpanderETS2}"
					Grid.Row="1"
					Margin="0,5,0,0"
					IsExpanded="{Binding TruckExpandedETS2}"
					d:IsExpanded="True"
					Padding="0,2,0,0"
					VerticalAlignment="Stretch"
					VerticalContentAlignment="Stretch">
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="Auto" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="*" />
						</Grid.RowDefinitions>
						<CheckBox
							x:Name="SelectAllETS2"
							Grid.Row="0"
							Grid.Column="0"
							Margin="10,0,0,0"
							Content="{DynamicResource CheckBoxSelectAll}"
							IsChecked="{Binding SelectAllETS2}"
							VerticalContentAlignment="Center"
							VerticalAlignment="Bottom"
							HorizontalAlignment="Stretch"
							FontSize="14" />
						<Button
							x:Name="ButtonAddTruckETS2"
							Content="{DynamicResource TitleAddTruck}"
							Grid.Column="1"
							Padding="5,3,5,3"
							Click="ButtonAddTruckClick"
							VerticalAlignment="Bottom" />
						<Button
							x:Name="ButtonDeleteTruckETS2"
							Content="{DynamicResource ButtonDeleteTruck}"
							Grid.Column="2"
							Margin="5,0,0,0"
							Padding="5,3,5,3"
							Click="ButtonDeleteTruckClick"
							VerticalAlignment="Bottom">
							<Button.Style>
								<Style
									TargetType="Button"
									BasedOn="{StaticResource {x:Type Button}}">
									<Style.Triggers>
										<DataTrigger
											Binding="{Binding SelectedIndex, ElementName=TableTrucksETS2}"
											Value="-1">
											<Setter
												Property="IsEnabled"
												Value="False" />
										</DataTrigger>
									</Style.Triggers>
								</Style>
							</Button.Style>
						</Button>
						<DataGrid
							x:Name="TableTrucksETS2"
							BorderThickness="0,1,0,0"
							Grid.Row="1"
							Grid.Column="0"
							Grid.ColumnSpan="3"
							GridLinesVisibility="Horizontal"
							CanUserSortColumns="False"
							AutoGenerateColumns="False"
							ItemsSource="{Binding TrucksETS2}"
							d:ItemsSource="{d:SampleData ItemCount=2}"
							ColumnHeaderStyle="{StaticResource DataGridHeader}"
							DataGrid.CellStyle="{StaticResource CompatCellStyle}"
							VirtualizingPanel.IsContainerVirtualizable="True"
							VirtualizingPanel.IsVirtualizing="True"
							VirtualizingPanel.VirtualizationMode="Recycling">
							<DataGrid.Columns>
								<DataGridTemplateColumn
									Width="Auto">
									<DataGridTemplateColumn.CellTemplate>
										<DataTemplate>
											<CheckBox
												HorizontalAlignment="Center"
												Click="TruckCheckBoxClick"
												IsChecked="{Binding Check, UpdateSourceTrigger=PropertyChanged}"
												VerticalContentAlignment="Center"
												MinWidth="22"
												MinHeight="22" />
										</DataTemplate>
									</DataGridTemplateColumn.CellTemplate>
								</DataGridTemplateColumn>
								<DataGridTextColumn
									Header="{DynamicResource TruckID}"
									Width="6*"
									Binding="{Binding TruckID}"
									FontSize="12"
									ElementStyle="{DynamicResource DataGridElementStyle}"
									CellStyle="{DynamicResource DataGridCellToolTip}" />
								<DataGridTextColumn
									Header="{DynamicResource TruckName}"
									Width="6*"
									Binding="{Binding IngameName}"
									FontSize="12"
									ElementStyle="{DynamicResource DataGridElementStyle}"
									CellStyle="{DynamicResource DataGridCellToolTip}" />
								<DataGridTemplateColumn
									Header="{DynamicResource ModelType}"
									Width="3*">
									<DataGridTemplateColumn.CellTemplate>
										<DataTemplate>
											<TextBox
												Text="{Binding ModelType, UpdateSourceTrigger=PropertyChanged}"
												ContextMenu="{StaticResource MenuModelType}"
												Style="{StaticResource TruckTableTextBoxStyle}" />
										</DataTemplate>
									</DataGridTemplateColumn.CellTemplate>
								</DataGridTemplateColumn>
								<DataGridTemplateColumn
									Header="{DynamicResource ModelLook}"
									Width="3*">
									<DataGridTemplateColumn.CellTemplate>
										<DataTemplate>
											<TextBox
												Text="{Binding Look, UpdateSourceTrigger=PropertyChanged}"
												ContextMenu="{StaticResource MenuLook}"
												Style="{StaticResource TruckTableTextBoxStyle}"
												Cursor="IBeam" />
										</DataTemplate>
									</DataGridTemplateColumn.CellTemplate>
								</DataGridTemplateColumn>
								<DataGridTemplateColumn
									Header="{DynamicResource ModelVariant}"
									Width="3*">
									<DataGridTemplateColumn.CellTemplate>
										<DataTemplate>
											<TextBox
												Text="{Binding Variant, UpdateSourceTrigger=PropertyChanged}"
												ContextMenu="{StaticResource MenuVariant}"
												Style="{StaticResource TruckTableTextBoxStyle}" />
										</DataTemplate>
									</DataGridTemplateColumn.CellTemplate>
								</DataGridTemplateColumn>
								<DataGridTextColumn
									Header="{DynamicResource TruckDescription}"
									Width="8*"
									Binding="{Binding Description}"
									FontSize="12"
									ElementStyle="{DynamicResource DataGridElementStyle}"
									CellStyle="{DynamicResource DataGridCellToolTip}" />
							</DataGrid.Columns>
						</DataGrid>
					</Grid>
				</Expander>

				<GridSplitter
					Margin="0,5,0,5"
					Height="1"
					Grid.Row="2"
					ResizeBehavior="PreviousAndCurrent"
					VerticalAlignment="Center"
					Background="#FF4C4B4B"
					HorizontalAlignment="Stretch" />

				<Expander
					x:Name="ExpanderATS"
					Header="{DynamicResource ExpanderATS}"
					Grid.Row="3"
					IsExpanded="{Binding TruckExpandedATS}"
					d:IsExpanded="True"
					Padding="0,2,0,0"
					VerticalAlignment="Stretch"
					VerticalContentAlignment="Stretch">
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="Auto" />
							<ColumnDefinition
								Width="Auto" />
						</Grid.ColumnDefinitions>
						<Grid.RowDefinitions>
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="*" />
						</Grid.RowDefinitions>
						<CheckBox
							x:Name="SelectAllATS"
							Grid.Row="0"
							Grid.Column="0"
							Margin="10,0,0,0"
							Content="{DynamicResource CheckBoxSelectAll}"
							IsChecked="{Binding SelectAllATS}"
							VerticalAlignment="Bottom"
							HorizontalAlignment="Stretch" />
						<Button
							x:Name="ButtonAddTruckATS"
							Content="{DynamicResource TitleAddTruck}"
							Grid.Row="0"
							Grid.Column="1"
							Padding="5,3,5,3"
							Click="ButtonAddTruckClick"
							VerticalAlignment="Bottom" />
						<Button
							x:Name="ButtonDeleteTruckATS"
							Content="{DynamicResource ButtonDeleteTruck}"
							Grid.Row="0"
							Grid.Column="2"
							Margin="5,0,0,0"
							Padding="5,3,5,3"
							Click="ButtonDeleteTruckClick"
							VerticalAlignment="Bottom">
							<Button.Style>
								<Style
									TargetType="Button"
									BasedOn="{StaticResource {x:Type Button}}">
									<Style.Triggers>
										<DataTrigger
											Binding="{Binding SelectedIndex, ElementName=TableTrucksATS}"
											Value="-1">
											<Setter
												Property="IsEnabled"
												Value="False" />
										</DataTrigger>
									</Style.Triggers>
								</Style>
							</Button.Style>
						</Button>
						<DataGrid
							x:Name="TableTrucksATS"
							BorderThickness="0,1,0,0"
							Grid.Row="1"
							Grid.Column="0"
							Grid.ColumnSpan="3"
							GridLinesVisibility="Horizontal"
							CanUserSortColumns="False"
							AutoGenerateColumns="False"
							ItemsSource="{Binding TrucksATS}"
							d:ItemsSource="{d:SampleData ItemCount=2}"
							ColumnHeaderStyle="{StaticResource DataGridHeader}"
							DataGrid.CellStyle="{StaticResource CompatCellStyle}"
							VirtualizingPanel.IsContainerVirtualizable="True"
							VirtualizingPanel.IsVirtualizing="True"
							VirtualizingPanel.VirtualizationMode="Recycling"
							Cursor="">
							<DataGrid.Columns>
								<DataGridTemplateColumn
									Width="Auto">
									<DataGridTemplateColumn.CellTemplate>
										<DataTemplate>
											<CheckBox
												HorizontalAlignment="Center"
												Click="TruckCheckBoxClick"
												IsChecked="{Binding Check, UpdateSourceTrigger=PropertyChanged}"
												MinWidth="22"
												MinHeight="22" />
										</DataTemplate>
									</DataGridTemplateColumn.CellTemplate>
								</DataGridTemplateColumn>
								<DataGridTextColumn
									Header="{DynamicResource TruckID}"
									Width="6*"
									Binding="{Binding TruckID}"
									FontSize="12"
									ElementStyle="{DynamicResource DataGridElementStyle}"
									CellStyle="{DynamicResource DataGridCellToolTip}" />
								<DataGridTextColumn
									Header="{DynamicResource TruckName}"
									Width="6*"
									Binding="{Binding IngameName}"
									FontSize="12"
									ElementStyle="{DynamicResource DataGridElementStyle}"
									CellStyle="{DynamicResource DataGridCellToolTip}" />
								<DataGridTemplateColumn
									Header="{DynamicResource ModelType}"
									Width="3*">
									<DataGridTemplateColumn.CellTemplate>
										<DataTemplate>
											<TextBox
												Text="{Binding ModelType, UpdateSourceTrigger=PropertyChanged}"
												ContextMenu="{DynamicResource MenuModelType}"
												Style="{StaticResource TruckTableTextBoxStyle}" />
										</DataTemplate>
									</DataGridTemplateColumn.CellTemplate>
								</DataGridTemplateColumn>
								<DataGridTemplateColumn
									Header="{DynamicResource ModelLook}"
									Width="3*">
									<DataGridTemplateColumn.CellTemplate>
										<DataTemplate>
											<TextBox
												Text="{Binding Look, UpdateSourceTrigger=PropertyChanged}"
												ContextMenu="{DynamicResource MenuLook}"
												Style="{StaticResource TruckTableTextBoxStyle}" />
										</DataTemplate>
									</DataGridTemplateColumn.CellTemplate>
								</DataGridTemplateColumn>
								<DataGridTemplateColumn
									Header="{DynamicResource ModelVariant}"
									Width="3*">
									<DataGridTemplateColumn.CellTemplate>
										<DataTemplate>
											<TextBox
												Text="{Binding Variant, UpdateSourceTrigger=PropertyChanged}"
												ContextMenu="{DynamicResource MenuVariant}"
												Style="{StaticResource TruckTableTextBoxStyle}" />
										</DataTemplate>
									</DataGridTemplateColumn.CellTemplate>
								</DataGridTemplateColumn>
								<DataGridTextColumn
									Header="{DynamicResource TruckDescription}"
									Width="8*"
									Binding="{Binding Description}"
									FontSize="12"
									ElementStyle="{DynamicResource DataGridElementStyle}"
									CellStyle="{DynamicResource DataGridCellToolTip}" />
							</DataGrid.Columns>
						</DataGrid>
					</Grid>
				</Expander>
			</Grid>

			<Popup
				x:Name="PopupAddTruck"
				PopupAnimation="Slide"
				AllowsTransparency="True"
				IsOpen="{Binding PopupAddTruckOpen}">
				<Grid
					Width="450">
					<Border Style="{DynamicResource PopupBorder}" />
					<Grid
						Margin="10">
						<Grid.RowDefinitions>
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="Auto" />
							<RowDefinition
								Height="Auto" />
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="10" />
							<ColumnDefinition
								Width="*" />
							<ColumnDefinition
								Width="10" />
							<ColumnDefinition
								Width="*" />
						</Grid.ColumnDefinitions>
						<TextBlock
							Grid.Row="0"
							Grid.Column="0">
						<Run
								Text="{DynamicResource TruckID}" />
						</TextBlock>
						<TextBox
							x:Name="TextNewTruckID"
							Grid.Row="1"
							Grid.Column="0"
							Padding="3,3,3,3"
							Text="{Binding AddTruckID}"
							TextWrapping="Wrap"
							VerticalAlignment="Top" />
						<TextBlock
							Grid.Row="0"
							Grid.Column="2">
						<Run
								Text="{DynamicResource TruckProdYear}" />
						</TextBlock>
						<TextBox
							x:Name="TextNewTruckProdYear"
							Grid.Row="1"
							Grid.Column="2"
							Padding="3,3,3,3"
							Text="{Binding AddTruckProdYear}"
							TextWrapping="Wrap"
							VerticalAlignment="Top"
							PreviewTextInput="NumberOnly" />
						<TextBlock
							Grid.Row="0"
							Grid.Column="4">
						<Run
								Text="{DynamicResource TruckName}" />
						</TextBlock>
						<TextBox
							x:Name="TextNewIngameName"
							Grid.Row="1"
							Grid.Column="4"
							Padding="3,3,3,3"
							Text="{Binding AddTruckIngameName}"
							TextWrapping="Wrap"
							VerticalAlignment="Top" />
						<TextBlock
							Grid.Row="2"
							Grid.Column="0"
							Grid.ColumnSpan="5"
							Margin="0,5,0,0">
						<Run
								Text="{DynamicResource TruckDescription}" />
						</TextBlock>
						<TextBox
							x:Name="TextNewDescription"
							Grid.Row="3"
							Grid.Column="0"
							Grid.ColumnSpan="5"
							Padding="3,3,3,3"
							Text="{Binding AddTruckDescription}"
							TextWrapping="Wrap"
							VerticalAlignment="Top" />
						<Grid
							Grid.Row="4"
							Grid.ColumnSpan="5">
							<Grid.ColumnDefinitions>
								<ColumnDefinition
									Width="*" />
								<ColumnDefinition
									Width="10" />
								<ColumnDefinition
									Width="*" />
							</Grid.ColumnDefinitions>
							<Button
								x:Name="ButtonAddTruckOK"
								Content="{DynamicResource ButtonOK}"
								Margin="0,10,0,0"
								Grid.Column="0"
								Click="ButtonAddTruckResultClick"
								HorizontalAlignment="Stretch">
								<Button.IsEnabled>
									<MultiBinding
										Converter="{StaticResource MultiNullCheck}"
										ConverterParameter="AND,Nonull">
										<Binding
											ElementName="TextNewTruckID"
											Path="Text" />
										<Binding
											ElementName="TextNewTruckProdYear"
											Path="Text" />
										<Binding
											ElementName="TextNewIngameName"
											Path="Text" />
									</MultiBinding>
								</Button.IsEnabled>
							</Button>
							<Button
								x:Name="ButtonAddTruckCancel"
								Content="{DynamicResource ButtonCancel}"
								Margin="0,10,0,0"
								Grid.Column="2"
								Click="ButtonAddTruckResultClick"
								HorizontalAlignment="Stretch" />
						</Grid>
					</Grid>
				</Grid>
			</Popup>

			<Border
				Grid.Row="1"
				Grid.ColumnSpan="2"
				Height="1"
				Margin="0,7,0,7"
				VerticalAlignment="Center"
				Background="#FF4C4B4B"
				HorizontalAlignment="Stretch" />

			<Grid
				Grid.Row="2"
				Grid.Column="0"
				Grid.ColumnSpan="2">
				<Grid.ColumnDefinitions>
					<ColumnDefinition
						Width="Auto" />
					<ColumnDefinition
						Width="Auto" />
					<ColumnDefinition
						Width="*" />
					<ColumnDefinition
						Width="Auto" />
					<ColumnDefinition
						Width="Auto" />
				</Grid.ColumnDefinitions>
				<Button
					x:Name="ButtonSave"
					Content="{DynamicResource SaveDED}"
					Grid.Column="0"
					Padding="40,3,40,3"
					Click="ButtonSaveClick" />
				<Button
					x:Name="ButtonLoad"
					Content="{DynamicResource LoadDED}"
					Grid.Column="1"
					Margin="5,0,0,0"
					Padding="40,3,40,3"
					Click="ButtonLoadClick" />
				<CheckBox
					x:Name="CheckDeleteUnchecked"
					Grid.Column="3"
					IsChecked="{Binding DeleteUnchecked}"
					VerticalContentAlignment="Center"
					VerticalAlignment="Top">
					<TextBlock
						TextWrapping="Wrap"
						Text="{DynamicResource CheckBoxDeleteUnchecked}" />
				</CheckBox>
				<Button
					x:Name="ButtonStart"
					Grid.Column="4"
					Content="{DynamicResource ButtonStart}"
					Margin="5,0,0,0"
					Padding="40,5,40,5"
					FontSize="15"
					Click="ButtonStartClick" />
			</Grid>
		</Grid>
	</Grid>
</base:BaseWindow>
