<base:BaseWindow
	x:Class="SCS_Mod_Helper.Accessory.AccAddon.CreatedSii.CreatedModelWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:local="clr-namespace:SCS_Mod_Helper.Accessory.AccAddon.CreatedSii"
	xmlns:base="clr-namespace:SCS_Mod_Helper.Base"
	xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
	d:DataContext="{d:DesignInstance Type=local:CreatedModelBinding}"
	mc:Ignorable="d"
	WindowStartupLocation="CenterOwner"
	Title="{DynamicResource TitleCreatedSii}"
	ExtendsContentIntoTitleBar="True"
	Height="600"
	Width="1000">
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition
				Height="Auto" />
			<RowDefinition
				Height="*" />
		</Grid.RowDefinitions>
		<ui:TitleBar
			Title="{DynamicResource TitleCreatedSii}"
			Grid.ColumnSpan="3"
			Padding="16,4,14,4" />
		<Grid
			x:Name="GridMain"
			Grid.Row="1"
			Margin="10,0,10,10">
			<Grid.RowDefinitions>
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="Auto" />
				<RowDefinition
					Height="*" />
				<RowDefinition
					Height="Auto" />
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition
					Width="*" />
				<ColumnDefinition
					Width="10" />
				<ColumnDefinition
					Width="6*" />
			</Grid.ColumnDefinitions>
			<TextBlock
				x:Name="TextProjectLocation"
				Margin="0,0,0,5"
				Grid.ColumnSpan="3"
				TextWrapping="Wrap"
				VerticalAlignment="Top"
				Text="{Binding CurrentProjectLocation}"
				d:Text="{DynamicResource TextProjectLocation}" />

			<CheckBox
				x:Name="CheckBoxSelectAll"
				Grid.Row="1"
				Grid.Column="2"
				Margin="5,5,0,0"
				Content="{DynamicResource CheckBoxSelectAll}"
				IsChecked="{Binding SelectAll}" />
			<Grid
				Grid.Row="2"
				Grid.Column="0"
				Margin="0,5,5,0">
				<Grid.RowDefinitions>
					<RowDefinition
						Height="Auto" />
					<RowDefinition
						Height="*" />
				</Grid.RowDefinitions>
				<Border
					Grid.RowSpan="2"
					BorderThickness="1"
					BorderBrush="{DynamicResource TextControlElevationBorderBrush}"
					CornerRadius="5" />
				<TextBlock
					Text="{DynamicResource ModelName}"
					HorizontalAlignment="Left"
					VerticalAlignment="Center"
					Padding="0,5"
					FontWeight="Bold"
					Margin="10,0,0,0" />
				<ListBox
					x:Name="ListBoxModelName"
					Grid.Row="1"
					SelectionMode="Single"
					d:ItemsSource="{d:SampleData ItemCount=2}"
					ItemsSource="{Binding CreatedModelList}"
					SelectedItem="{Binding CurrentModel}"
					SelectedIndex="0">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<TextBlock
								Text="{Binding ModelName}"
								ToolTip="{Binding ModelName}"
								FontSize="13">
								<TextBlock.Style>
									<Style
										TargetType="TextBlock"
										BasedOn="{StaticResource {x:Type TextBlock}}">
										<Style.Triggers>
											<DataTrigger
												Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListBoxItem}, Path=IsSelected}"
												Value="True">
												<Setter
													Property="Foreground"
													Value="White" />
											</DataTrigger>
										</Style.Triggers>
									</Style>
								</TextBlock.Style>
							</TextBlock>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>
			</Grid>

			<GridSplitter
				Width="2"
				Grid.Row="2"
				Grid.Column="1"
				Margin="4,0,4,0"
				ResizeBehavior="PreviousAndNext"
				HorizontalAlignment="Center"
				Background="#FF4C4B4B" />

			<DataGrid
				x:Name="TableCreatedSii"
				Grid.Row="2"
				Grid.Column="2"
				SelectionMode="Single"
				Margin="5,5,0,0"
				GridLinesVisibility="Horizontal"
				d:ItemsSource="{d:SampleData ItemCount=2}"
				ItemsSource="{Binding CurrentModelItems}"
				SelectedItem="{Binding CurrentModelItem}"
				AutoGenerateColumns="False"
				BorderThickness="1"
				BorderBrush="{DynamicResource {x:Static SystemColors.ActiveBorderBrushKey}}"
				ColumnHeaderStyle="{StaticResource DataGridHeader}"
				CellStyle="{StaticResource CompatCellStyle}">
				<DataGrid.HorizontalGridLinesBrush>
					<LinearGradientBrush
						EndPoint="0.5,1"
						StartPoint="0.5,0">
						<GradientStop
							Color="{DynamicResource {x:Static SystemColors.ActiveBorderColorKey}}"
							Offset="1" />
					</LinearGradientBrush>
				</DataGrid.HorizontalGridLinesBrush>
				<DataGrid.Columns>
					<DataGridTemplateColumn
						Width="Auto">
						<DataGridTemplateColumn.CellTemplate>
							<DataTemplate>
								<CheckBox
									HorizontalAlignment="Center"
									Click="CheckBoxClick"
									IsChecked="{Binding Check, UpdateSourceTrigger=PropertyChanged}" />
							</DataTemplate>
						</DataGridTemplateColumn.CellTemplate>
					</DataGridTemplateColumn>
					<DataGridTextColumn
						Header="{DynamicResource HeadPath}"
						IsReadOnly="True"
						Width="10*"
						Binding="{Binding PathShort}">
						<DataGridTextColumn.CellStyle>
							<Style
								TargetType="DataGridCell">
								<Setter
									Property="ToolTip"
									Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Content.Text}" />
							</Style>
						</DataGridTextColumn.CellStyle>
					</DataGridTextColumn>
					<DataGridTextColumn
						Header="{DynamicResource TruckID}"
						IsReadOnly="True"
						Width="6*"
						Binding="{Binding TruckID}">
						<DataGridTextColumn.CellStyle>
							<Style
								TargetType="DataGridCell">
								<Setter
									Property="ToolTip"
									Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Content.Text}" />
							</Style>
						</DataGridTextColumn.CellStyle>
					</DataGridTextColumn>
					<DataGridTextColumn
						Header="{DynamicResource ModelType}"
						IsReadOnly="True"
						Width="3*"
						Binding="{Binding ModelType}">
					</DataGridTextColumn>
					<DataGridTextColumn
						Header="{DynamicResource ModelDisplayName}"
						IsReadOnly="True"
						Width="5*"
						Binding="{Binding IngameName}">
						<DataGridTextColumn.CellStyle>
							<Style
								TargetType="DataGridCell">
								<Setter
									Property="ToolTip"
									Value="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Content.Text}" />
							</Style>
						</DataGridTextColumn.CellStyle>
					</DataGridTextColumn>
					<DataGridTextColumn
						Header="{DynamicResource ModelLook}"
						IsReadOnly="True"
						Width="5*"
						Binding="{Binding Look}">
					</DataGridTextColumn>
					<DataGridTextColumn
						Header="{DynamicResource ModelVariant}"
						IsReadOnly="True"
						Width="5*"
						Binding="{Binding Variant}">
					</DataGridTextColumn>
				</DataGrid.Columns>
			</DataGrid>
			<Grid
				Grid.Row="3"
				Grid.ColumnSpan="3"
				Margin="0,10,0,0">
				<Grid.ColumnDefinitions>
					<ColumnDefinition
						Width="3*" />
					<ColumnDefinition
						Width="10" />
					<ColumnDefinition
						Width="*" />
					<ColumnDefinition
						Width="10" />
					<ColumnDefinition
						Width="*" />
				</Grid.ColumnDefinitions>
				<Button
					x:Name="ButtonDelete"
					Content="{DynamicResource ButtonDelete}"
					Click="ButtonClick"
					VerticalAlignment="Stretch"
					HorizontalAlignment="Stretch" />
				<Button
					x:Name="ButtonOpen"
					Grid.Column="2"
					Content="{DynamicResource ButtonOpenFile}"
					Click="ButtonClick"
					HorizontalAlignment="Stretch">
					<Button.Style>
						<Style
							TargetType="Button"
							BasedOn="{StaticResource {x:Type Button}}">
							<Style.Triggers>
								<DataTrigger
									Binding="{Binding SelectedIndex, ElementName=TableCreatedSii}"
									Value="-1">
									<Setter
										Property="IsEnabled"
										Value="False" />
								</DataTrigger>
							</Style.Triggers>
						</Style>
					</Button.Style>
				</Button>
				<Button
					x:Name="ButtonClose"
					Grid.Column="4"
					Content="{DynamicResource ButtonClose}"
					Click="ButtonClick"
					HorizontalAlignment="Stretch" />
			</Grid>
			
			<ui:ProgressRing
				Grid.ColumnSpan="3"
				Grid.RowSpan="4"
				IsIndeterminate="True"
				Visibility="{Binding ProgressRingVisibility}" />
		</Grid>
	</Grid>
</base:BaseWindow>
